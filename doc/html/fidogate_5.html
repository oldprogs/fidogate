<HTML>
<HEAD>
<!-- This HTML file has been created by texi2html 1.51
     from ../fidogate.texi on 1 November 1996 -->

<TITLE>FIDOGATE
 - Basic Configuration</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="fidogate_1.html">first</A>, <A HREF="fidogate_4.html">previous</A>, <A HREF="fidogate_6.html">next</A>, <A HREF="fidogate_6.html">last</A> section, <A HREF="fidogate_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC59" HREF="fidogate_toc.html#TOC59">Basic Configuration</A></H1>

<P>
<A NAME="IDX82"></A>

</P>
<P>
There seems to be some confusion about how to configure the gateway and
the tosser, so I added this chapter. Hopefully this will help ...

</P>

<UL>
<LI><A HREF="fidogate_5.html#SEC60">Example Point</A>: Example point configuration
<LI><A HREF="fidogate_5.html#SEC61">Example Point 2</A>: Example configuration with 2 point addresses
<LI><A HREF="fidogate_5.html#SEC62">Example Node</A>: Example leaf node configuration
</UL>



<H2><A NAME="SEC60" HREF="fidogate_toc.html#TOC60">Example Point Configuration</A></H2>
<P>
<A NAME="IDX83"></A>
<A NAME="IDX84"></A>
<A NAME="IDX85"></A>

</P>
<P>
<I>Please note that this point configuration uses the FIDOGATE
tosser. Thus, it's different from the point configuration described in
Roland Rosenfeld's Point HOWTO!!!</I>

</P>
<P>
Actually, this point configuration is very similar to the node
configuration described in the next section.

</P>
<P>
Let's assume the following addresses:

</P>
<P>
Fido point address 2:2499/123.9

</P>
<P>
Uplink (NetMail and EchoMail) 2:2499/123

</P>

<P>
Address configuration <CODE>config.gate</CODE> (uplink is the same as the
point address!), <CODE>EchoMail4D</CODE> is stricly reqired:

</P>

<PRE>
Address 2:2499/123.9
Uplink  2:2499/123.9

EchoMail4D
</PRE>

<P>
Address configuration <CODE>config.main</CODE> (no uplink here!):

</P>

<PRE>
Address 2:2499/123.9
</PRE>

<P>
Routing configuration <CODE>routing</CODE>: mail for the local address on
hold, everything else is send to the boss node.

</P>

<PRE>
NetMail
route    hold   2:2499/123.9
route    normal 2:2499/123 1:* 2:* 3:* 4:* 5:* 6:*

EchoMail
sendmove hold   2:2499/123.9
sendmove normal *
</PRE>

<P>
Packer configuration <CODE>packing</CODE>: no packing for own address,
<CODE>zip</CODE> is the default archiver for everything else.

</P>

<PRE>
arc  zip    "/usr/bin/zip -9gkjq %s %s"

pack noarc  2:2499/123.9
pack zip    *
</PRE>

<P>
Next, the EchoMail areas must be listed in the <CODE>areas.bbs</CODE> file. Do
<I>not</I> put your point address into <CODE>areas.bbs</CODE>! Example with two
areas (the directory <CODE>X</CODE> is not used for EchoMail areas), which
must be non-passthrough:

</P>

<PRE>
Your system name!sysop name
X LINUX.GER 2:2499/123
X UNIX.GER  2:2499/123
</PRE>

<P>
In the gateway configuration, these areas must be listed in the
<CODE>areas</CODE> config file:

</P>

<PRE>
LINUX.GER fido.ger.linux
UNIX.GER  fido.ger.unix
</PRE>

<P>
Now the gateway is able to process EchoMail. The program <CODE>ftnin</CODE>
should be run to gate any (unpacked) FTN outbound mail packet for
2:2499/123.9. The script <CODE>scripts/run/runpoll</CODE> runs everything
needed for a point polling its mail at the boss node.

</P>



<H2><A NAME="SEC61" HREF="fidogate_toc.html#TOC61">Example Configuration with 2 Point Addresses</A></H2>
<P>
<A NAME="IDX86"></A>
<A NAME="IDX87"></A>
<A NAME="IDX88"></A>

</P>
<P>
This section describes a point setup with 2 different point addresses and 2
different boss nodes (uplinks).

</P>
<P>
<B>NOT YET COMPLETE!!!</B>

</P>
<P>
Hints:

</P>

<UL>

<LI>

Use the sendmail <CODE>ftna</CODE> mailer.

<LI>

<B>Disable</B> <CODE>CheckPath</CODE> in <CODE>config.main</CODE>.

</UL>



<H2><A NAME="SEC62" HREF="fidogate_toc.html#TOC62">Example Leaf Node configuration</A></H2>
<P>
<A NAME="IDX89"></A>
<A NAME="IDX90"></A>
<A NAME="IDX91"></A>

</P>

<P>
Let's assume the following addresses:

</P>
<P>
Fido main address 2:2499/123

</P>
<P>
Uplink (NetMail and EchoMail) 2:2499/100

</P>
<P>
Local gateway address 2:2499/123.1

</P>
<P>
Two points, Max Mueller @ 2:2499/123.10, Sabine Meier @ 2:2499/123.11

</P>

<P>
Address configuration <CODE>config.gate</CODE> (uplink is node address!):

</P>

<PRE>
Address 2:2499/123.1
Uplink  2:2499/123
</PRE>

<P>
Address configuration <CODE>config.main</CODE> (no uplink here!):

</P>

<PRE>
Address 2:2499/123
</PRE>

<P>
Routing configuration <CODE>routing</CODE>: NetMail for the two points will be
remapped to their point addresses, everything else to the gateway (where
you will be reading your mail). NetMail for all points is <CODE>send</CODE>
onto hold, everything else <CODE>route</CODE>d to your uplink. EchoMail is
alway put onto hold.

</P>

<PRE>
remap 2:2499/123.0 2:2499/123.10 "Max Mueller"
remap 2:2499/123.0 2:2499/123.11 "Sabine Meier"
remap 2:2499/123.0 2:2499/123.1  "*"

NetMail
send  hold   2:2499/123 2:2499/123.*
route normal 2:2499/100 1:* 2:* 3:* 4:* 5:* 6:*

EchoMail
sendmove hold   2:2499/123.*
sendmove normal *
</PRE>

<P>
Packer configuration <CODE>packing</CODE>: no packing for the gateway address,
<CODE>zip</CODE> is the default archiver for everything else.

</P>

<PRE>
arc zip "/usr/bin/zip -9gkjq %s %s"

pack noarc  2:2499/123.1
pack zip    *
</PRE>

<P>
Next, the EchoMail areas must be listed in the <CODE>areas.bbs</CODE> file. Do
<I>not</I> put your node address into <CODE>areas.bbs</CODE>! Example with two
areas, both subscribed by the gateway and your points (the directory
<CODE>X</CODE> is not used for EchoMail areas):

</P>

<PRE>
Your system name!sysop name
#X LINUX.GER 2:2499/100 123.1 .10 .11
#X UNIX.GER  2:2499/100 123.1 .11
</PRE>

<P>
<CODE>#</CODE> denotes a <I>passthrough</I> area, i.e. no packets for the own
address (2:2499/123) are created. All EchoMail will be send to the
gateway (.1).

</P>
<P>
In the gateway configuration, these areas must be listed in the
<CODE>areas</CODE> config file:

</P>

<PRE>
LINUX.GER fido.ger.linux
UNIX.GER  fido.ger.unix
</PRE>

<P>
Now the gateway is able to process EchoMail. The program <CODE>ftnin</CODE>
should be run to gate any (unpacked) FTN outbound mail packet for
2:2499/123.1. The scripts <CODE>runin</CODE> and <CODE>runout</CODE> run the tosser
for processing the inbound and the gateway output, respectively.

</P>
<P>
To use the <CODE>ftnaf</CODE> areafix, the gateway and the mail system must be
working. You can then install suitable aliases in <CODE>/etc/aliases</CODE>:

</P>

<PRE>
# Areafix/Filefix - FIDOGATE ftnaf
areafix: "|/usr/local/lib/fidonet/ftnaf -m"
areamgr: areafix
filefix: "|/usr/local/lib/fidonet/ftnaf -F -m"
filemgr: filefix
</PRE>

<P>
That's it. Hope that this short chapter on basic configuration clarifies
some of the darker point of the FIDOGATE configuration. Anyway, please
help to improve the FIDOGATE documentation.

</P>

<P><HR><P>
Go to the <A HREF="fidogate_1.html">first</A>, <A HREF="fidogate_4.html">previous</A>, <A HREF="fidogate_6.html">next</A>, <A HREF="fidogate_6.html">last</A> section, <A HREF="fidogate_toc.html">table of contents</A>.
</BODY>
</HTML>
