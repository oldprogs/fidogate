-*- Indented-Text -*-

X = for release 4.0alpha3

	* test/tc.tick: test case for ftntick (Replaces).

	* msg_body_parse(): there may be ^AVia in the kludges at the
	  beginning of the messages!

DONE.	* ftntick: integrate patches from Sholto Douglas.

	* ftntick: remove FILES.BBS entry for old replaced file.

DONE.	* rununpack: use separate magic data file for the file
	  command, avoiding problems with having to change
	  /usr/lib/magic.

	* ftntick: if node is busy, put necessary data for
	  bink_attach() into separate file, don't wait, retry on the
	  next run.

DONE.	* ftnaf: command line mode must override level/key, right now
	  level/key are checked but not set.

DONE.	* ftnexpire: log busy, wait for lock file to be released

DONE.   * ftntoss: log dupe MSGIDs

DONE.   * ftntick: set file date after moving to file area

DONE.	* pktdebug: option to disable ^M^J output

DONE.	* wildmat.c:wildmatch():L181: fix case sensitivity for [a-z]
	  ranges.

	* ftnpack: remove 0-size arcmail from previous days.
	
X	* rfc2ftn: use rfcaddr.c functions for rfc2ftn mail_sender() etc. and
	  to replace the RFC parsing functions in rfcheader.c

X	* rfc2ftn: check From, Reply-To for equal address, use real
	  name in From header, if Reply-To is address only.

DONE.	* ffxbatch: do nothing for empty batch directory.

	* ftnroute: new command "xroute" allowing routing based on
	  source *and* destination address.

	* ftnhatch: copy option: copy file to file area and put entry
	  into files.bbs (standard hatch behavior).

DONE.	* charset.c: integrate charset.h.latin1. #ifdef?

	* ftnconfig: tool for reading stuff from FIDOGATE config files
	  for shell/perl scripts.

DONE.	* ftnpack: lock file for do_dirpack().

	* ftn2rfc: bounce messages should include the complete FTN
	  message with all kludges etc. to ease debugging.

DONE.	* ftntoss: make "send" work as in SQUISH. Needs rewrite of
	  node string parsing functions and routing.c / ftnroute.c.

	* config.h: ALIASES, AREAS, HOSTS, PASSWD, PACKING, ROUTING
	  configurable in config.common

	* kludge.c: handling traversing multiple kludges of the same
	  type.

DONE.	* node.c, routing.c: merge node parsing functions into general
	  ones. parsenode.c

	* ftnpack: runtime configuration of arcmail extension
	  usage. Use XX0-9 only, XX0-9 + XXA-F, wrap around to XX0 if
	  last one is too large, etc.
	  ArcMail extensions: mo[0-9], plus mo[a-f], maybe mo[a-z]?
	  runtime configuration of arcmail extensions usage.

	* Catch SIGINT, process clean-up function.
	  - close all packet files for ftntoss, ftnroute, etc.

	* areas: option -M MAXSIZE, limit maximum RFC message size to
	  MAXSIZE bytes, larger messages won't be gated.

	* areas.bbs: area descriptions, -d "Text ...".

	* ftn2rfc: restrict gateway to certain *Internet* addresses.

	* ftntick: announce new files via mail or news posting.

	* X-Gateway / ^AGATEWAY processing.

	* ftn2rfc: Newsgroups header?

MOSTLY	* ftnpack: better file attach processing, -F DIR option. Don't
DONE.	  copy netmail packets (do_noarc()), use rename(). If archiver
	  fails, move packets back to toss/out directory.

rfc2ftn	* Support for new FIDO-Gatebau '94 ^ARFC kludges.
DONE.
	* Check packet passwords of incoming packets.

	* MIME support for outgoing RFC messages, especially using the
	  ISO-8859-1 character set (8 bit and MIME quoted printable)
	  for news messages.

	* ftntoss: check # of ^AVia lines

	* ftntoss: kill old messages (older than 2 weeks?)

OS2	* MSDOS, OS/2 port: switch stdin to binary mode. Command line option?
DONE.	  Problems with news batches (GD030V)?

	* ftn2rfc, rfc2ftn: passthru operation for FTN messages, in
	  particular EchoMail control information.

	* ftntoss: strip ^APATH for ZoneGate

	* ftntoss: ZoneGateFrom as suggested by <slapic@fido.hu>:
-------------------------------------------------------------------------
i receive mail from 1:270/101 as 1:270/104 (so i'm 1:270/104)
my normal address is 2:371/2000
i must forward/pack echomail as 2:371/2000
i should strip seen-by and path when forwarding mail from 1:270/101 
regardless whom i'm sending to.

at this moment i have two installed fidogate, one with aka 1:270/104, and 
one with aka 2:371/2000
my 1:270/104 system receives from 1:270/101, and packs for 2:371/2000
2:371/2000 receives from 1:270/104 and processes mail as normal.
and at the end, 2:371/2000 exports to 1:270/101...
it's not so nice... working, but not nice... i'd like to use one system 
on a phisical system.
so if i can do something like this:
ZoneGateFrom    1:270/101       270/101 104 371/2000
ZoneGate        1:270/101       270/101 371/2000
and as the zonegatefrom specifies, fidogate should strip seen-by and path 
every mail _from_ 1:270/101
-------------------------------------------------------------------------
	  This requires setting the sender address for the particular
	  area. Something else?
